<%- include('../partials/head') %>
</head>
<body class="bg-gradient-to-br from-purple-300 via-pink-200 to-purple-100 min-h-screen">
  <%- include('../partials/nav') %>
  <main class="container mx-auto bg-white/80 shadow-2xl p-4 sm:p-6 md:p-8 mt-6 sm:mt-10 max-w-full md:max-w-3xl rounded-3xl">
    <h1 class="text-center font-bold mb-6 text-purple-600 text-2xl sm:text-3xl tracking-wide">
      <%= editing ? "Edit" : "Register"%> Your Home on AirBnB
    </h1>
    <form action="/host/<%= editing ? "edit-home" : "add-home"%>" method="POST" class="max-w-lg mx-auto space-y-4" encType="multipart/form-data">
      <input type="hidden" name="id" value="<%= editing ? home._id : ''%>" />
      <input
        type="text"
        name="houseName"
        value="<%= editing ? home.houseName : ''%>"
        placeholder="Enter your House Name"
        class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 bg-purple-50/60 shadow-sm"
      />
      <input
        type="text"
        name="price"
        value="<%= editing ? home.price : ''%>"
        placeholder="Price Per Night"
        class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300 bg-pink-50/60 shadow-sm"
      />
      <input
        type="text"
        name="location"
        value="<%= editing ? home.location : ''%>"
        placeholder="Location"
        class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300 bg-purple-50/60 shadow-sm"
      />
      <input
        type="text"
        name="rating"
        value="<%= editing ? home.rating : ''%>"
        placeholder="Rating"
        class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-300 bg-yellow-50/60 shadow-sm"
      />
      <input
        type="file"
        name="photo"
        class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-200 bg-pink-50/60 shadow-sm"
      />
      <textarea
        name="description"
        placeholder="Describe your Home"
        class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-200 bg-purple-50/60 shadow-sm resize-none"
        rows="4"
      ><%= editing ? home.description : ''%></textarea>
      <input
        type="submit"
        value="<%= editing ? "Update Home" : "Add Home"%>"
        class="w-full bg-purple-500 hover:bg-purple-700 active:scale-95 transition-all duration-200 text-white py-2 rounded-xl shadow-md font-semibold text-base"
      />
    </form>
  </main>
  <script>
    // Animate heading on load
    document.addEventListener('DOMContentLoaded', () => {
      const heading = document.querySelector('h1');
      heading.animate([
        { opacity: 0, transform: 'translateY(-30px)' },
        { opacity: 1, transform: 'translateY(0)' }
      ], {
        duration: 700,
        fill: 'forwards'
      });
    });
  </script>
</body>
</html>